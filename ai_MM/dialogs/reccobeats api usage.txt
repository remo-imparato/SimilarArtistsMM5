use caching and respect rate limiting and respect 429 response with a rate delay
add an option to save the settings in the user tracks, like MMaudio features addon

  ==========================

get the track id

async function getReccoTrackId(artist, title, apiKey) {
  // Normalize helper
  const normalize = (s) =>
    s.toLowerCase().replace(/[\s\-\_\(\)\[\]\.]+/g, "").trim();

  // Shared headers
  const myHeaders = new Headers();
  myHeaders.append("Accept", "application/json");
  myHeaders.append("x-api-key", apiKey);

  const requestOptions = {
    method: "GET",
    headers: myHeaders,
    redirect: "follow"
  };

  // 1ï¸âƒ£ Search for artist
  const artistSearchUrl =
    "https://api.reccobeats.com/v1/artist/search/artist?q=" +
    encodeURIComponent(artist);

  const artistRes = await fetch(artistSearchUrl, requestOptions);
  const artistJson = await artistRes.json();

  if (!artistJson?.data?.length) {
    console.error("Artist not found:", artist);
    return null;
  }

  const artistId = artistJson.data[0].id;

  // 2ï¸âƒ£ Get tracks for that artist
  const tracksUrl =
    `https://api.reccobeats.com/v1/artist/${artistId}/tracks`;

  const tracksRes = await fetch(tracksUrl, requestOptions);
  const tracksJson = await tracksRes.json();

  if (!tracksJson?.data?.length) {
    console.error("No tracks found for artist:", artist);
    return null;
  }

  // 3ï¸âƒ£ Match title
  const normalizedTitle = normalize(title);

  const match = tracksJson.data.find(
    (t) => normalize(t.trackTitle) === normalizedTitle
  );

  if (!match) {
    console.error("Track title not found:", title);
    return null;
  }

  return match.id; // ðŸŽ‰ This is the trackId
}
  
  ==========================

get the track info from the seed track

const myHeaders = new Headers();
myHeaders.append("Accept", "application/json");

const requestOptions = {
  method: "GET",
  headers: myHeaders,
  redirect: "follow"
};

fetch("https://api.reccobeats.com/v1/track/:id/audio-features", requestOptions)
  .then((response) => response.text())
  .then((result) => console.log(result))
  .catch((error) => console.error(error));


  ==========================
  
use information in the return about acousticness, danceability, energy, instrumentalness, liveness, loudness, mode, speechiness, temp, and valence (happiness)
use/adjust the returned settings to meet the config settings for mood and activity

const myHeaders = new Headers();
myHeaders.append("Accept", "application/json");

const requestOptions = {
  method: "GET",
  headers: myHeaders,
  redirect: "follow"
};

fetch("https://api.reccobeats.com/v1/track/recommendation", requestOptions)
  .then((response) => response.text())
  .then((result) => console.log(result))
  .catch((error) => console.error(error));